<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/font.css">
    <link rel="stylesheet" href="/app.css">
    <title>doc</title>
</head>

<body type="article" theme="google-blue" class="" layout="docs" pending>
    <devsite-progress type="indeterminate" id="app-progress"></devsite-progress>
    <section class="devsite-wrapper">
        <devsite-header>
            <div class="devsite-header--inner">
                <div class="devsite-top-logo-row-wrapper-wrapper">
                    <div class="devsite-top-logo-row-wrapper">
                        <div class="devsite-top-logo-row">
                            <button type="button" id="devsite-hamburger-menu"
                                class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
                                data-category="Site-Wide Custom Events" data-label="Navigation menu button"
                                visually-hidden aria-label="Open menu">
                            </button>
                            <div class="devsite-product-name-wrapper">


                                <span class="devsite-product-name">
                                    <ul class="devsite-breadcrumb-list">
                                        <li class="devsite-breadcrumb-item
             ">
                                            <a href="/protocol-buffers"
                                                class="devsite-breadcrumb-link gc-analytics-event"
                                                data-category="Site-Wide Custom Events" data-label="Upper Header"
                                                data-value="1">
                                                Protocol Buffers
                                            </a>
                                        </li>
                                    </ul>
                                </span>
                            </div>
                            <div class="devsite-top-logo-row-middle">
                                <div class="devsite-header-upper-tabs">
                                </div>
                                <devsite-search enable-signin enable-search enable-suggestions enable-query-completion
                                    project-name="Protocol Buffers" tenant-name="Google Developers"
                                    project-scope="/protocol-buffers"
                                    url-scoped="https://developers.google.com/s/results/protocol-buffers">
                                    <form class="devsite-search-form" action="https://developers.google.com/s/results"
                                        method="GET">
                                        <div class="devsite-search-container">
                                            <div class="devsite-searchbox">
                                                <input aria-label="Search box" autocomplete="off"
                                                    class="devsite-search-field devsite-search-query" name="q"
                                                    placeholder="Search" role="combobox" type="text" value="">
                                                <div class="devsite-search-image material-icons" aria-hidden="true">
                                                </div>
                                            </div>
                                            <button type="button" search-open
                                                class="devsite-search-button devsite-header-icon-button button-flat material-icons"
                                                aria-label="Open search box"></button>
                                        </div>
                                    </form>
                                    <button type="button" search-close
                                        class="devsite-search-button devsite-header-icon-button button-flat material-icons"
                                        aria-label="Close search box"></button>
                                </devsite-search>

                            </div>


                            <devsite-language-selector>
                                <devsite-select class="devsite-language-selector-menu">
                                    <select class="devsite-language-selector-select">
                                        <option value="en" selected="selected">
                                            go
                                        </option>

                                    </select>
                                </devsite-select>
                            </devsite-language-selector>



                            <devsite-user signed-in id="devsite-user"></devsite-user>
                        </div>
                    </div>
                </div>
                <div class="devsite-collapsible-section
    ">
                    <div class="devsite-header-background">
                        <div class="devsite-doc-set-nav-row">
                            <devsite-tabs class="lower-tabs">
                                <div class="devsite-tabs-wrapper">
                                    <tab>
                                        <a href="/protocol-buffers" class="gc-analytics-event " track-type="globalNav"
                                            track-metadata-position="nav" track-metadata-eventdetail="nav"
                                            track-name="home" data-category="Site-Wide Custom Events"
                                            data-label="Tab: Home">
                                            Home
                                        </a>

                                    </tab>
                                    <tab active>
                                        <a href="/protocol-buffers/docs/overview" class="gc-analytics-event "
                                            track-type="globalNav" track-metadata-position="nav"
                                            track-metadata-eventdetail="nav" track-name="guides"
                                            aria-label="Guides, selected" data-category="Site-Wide Custom Events"
                                            data-label="Tab: Guides">
                                            Guides
                                        </a>

                                    </tab>
                                    <tab>
                                        <a href="/protocol-buffers/docs/reference/overview" class="gc-analytics-event "
                                            track-type="globalNav" track-metadata-position="nav"
                                            track-metadata-eventdetail="nav" track-name="reference"
                                            data-category="Site-Wide Custom Events" data-label="Tab: Reference">
                                            Reference
                                        </a>

                                    </tab>
                                    <tab>
                                        <a href="/protocol-buffers/docs/faq" class="gc-analytics-event "
                                            track-type="globalNav" track-metadata-position="nav"
                                            track-metadata-eventdetail="nav" track-name="support"
                                            data-category="Site-Wide Custom Events" data-label="Tab: Support">
                                            Support
                                        </a>

                                    </tab>
                                </div>
                            </devsite-tabs>

                        </div>
                    </div>
                </div>
            </div>

        </devsite-header>
        <devsite-book-nav scrollbars>
            <nav class="devsite-book-nav devsite-nav nocontent">
                <div class="devsite-mobile-header">
                    <button type="button" id="devsite-close-nav"
                        class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
                        data-category="Site-Wide Custom Events" data-label="Close navigation"
                        aria-label="Close navigation">
                    </button>
                    <div class="devsite-product-name-wrapper">

                        <span class="devsite-product-name">
                            <ul class="devsite-breadcrumb-list">
                                <li class="devsite-breadcrumb-item
             ">
                                    <a href="/protocol-buffers" class="devsite-breadcrumb-link gc-analytics-event"
                                        data-category="Site-Wide Custom Events" data-label="Upper Header"
                                        data-value="1">
                                        Protocol Buffers
                                    </a>
                                </li>
                            </ul>
                        </span>

                    </div>
                </div>

                <div class="devsite-book-nav-wrapper">
                    <div class="devsite-mobile-nav-top">
                        <ul class="devsite-nav-list">
                            <li class="devsite-nav-item">
                                <a href="/protocol-buffers" class="devsite-nav-title gc-analytics-event
                            " data-category="Site-Wide Custom Events" data-label="Responsive Tab: Home"
                                    track-type="navMenu" track-metadata-eventDetail="globalMenu"
                                    track-metadata-position="nav" track-name="home">
                                    <span class="devsite-nav-text" tooltip>
                                        Home
                                    </span>
                                </a>
                            </li>

                            <li class="devsite-nav-item">
                                <a href="/protocol-buffers/docs/overview" class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children              devsite-nav-active" data-category="Site-Wide Custom Events"
                                    data-label="Responsive Tab: Guides" track-type="navMenu"
                                    track-metadata-eventDetail="globalMenu" track-metadata-position="nav"
                                    track-name="guides">
                                    <span class="devsite-nav-text" tooltip>
                                        Guides
                                    </span>
                                    <span class="devsite-nav-icon material-icons" data-icon="forward">
                                    </span>
                                </a>
                            </li>

                            <li class="devsite-nav-item">
                                <a href="/protocol-buffers/docs/reference/overview" class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children              " data-category="Site-Wide Custom Events"
                                    data-label="Responsive Tab: Reference" track-type="navMenu"
                                    track-metadata-eventDetail="globalMenu" track-metadata-position="nav"
                                    track-name="reference">
                                    <span class="devsite-nav-text" tooltip>
                                        Reference
                                    </span>
                                    <span class="devsite-nav-icon material-icons" data-icon="forward">
                                    </span>
                                </a>
                            </li>

                            <li class="devsite-nav-item">
                                <a href="/protocol-buffers/docs/faq" class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children              " data-category="Site-Wide Custom Events"
                                    data-label="Responsive Tab: Support" track-type="navMenu"
                                    track-metadata-eventDetail="globalMenu" track-metadata-position="nav"
                                    track-name="support">
                                    <span class="devsite-nav-text" tooltip>
                                        Support
                                    </span>
                                    <span class="devsite-nav-icon material-icons" data-icon="forward">
                                    </span>
                                </a>
                            </li>


                        </ul>
                    </div>
                    <div class="devsite-mobile-nav-bottom">
                        <ul class="devsite-nav-list" menu="_book">
                            <li class="devsite-nav-item"><a href="/protocol-buffers/docs/overview"
                                    class="devsite-nav-title"><span class="devsite-nav-text" tooltip>Overview</span></a>
                            </li>
                            <li class="devsite-nav-item           devsite-nav-heading">
                                <div class="devsite-nav-title devsite-nav-title-no-path"><span class="devsite-nav-text"
                                        tooltip>Developer Guide</span></div>
                                <ul class="devsite-nav-section">
                                    <li class="devsite-nav-item"><a href="/protocol-buffers/docs/proto"
                                            class="devsite-nav-title"><span class="devsite-nav-text" tooltip>Language
                                                Guide (proto2)</span></a></li>
                                </ul>
                            </li>
                            <li class="devsite-nav-item           devsite-nav-heading">
                                <div class="devsite-nav-title devsite-nav-title-no-path"><span class="devsite-nav-text"
                                        tooltip>Tutorials</span></div>
                                <ul class="devsite-nav-section">
                                    <li class="devsite-nav-item"><a href="/protocol-buffers/docs/tutorials"
                                            class="devsite-nav-title"><span class="devsite-nav-text" tooltip>Tutorials
                                                Overview</span></a></li>
                                </ul>
                            </li>
                            <li class="devsite-nav-item           devsite-nav-heading">
                                <div class="devsite-nav-title devsite-nav-title-no-path"><span class="devsite-nav-text"
                                        tooltip>Related Guides</span></div>
                                <ul class="devsite-nav-section">
                                    <li class="devsite-nav-item           devsite-nav-external"><a
                                            href="http://www.grpc.io/docs/" class="devsite-nav-title"><span
                                                class="devsite-nav-text" tooltip>gRPC</span><span
                                                class="devsite-nav-icon material-icons" data-icon="external"
                                                data-title="External" aria-hidden="true"></span></a></li>
                                </ul>
                            </li>
                        </ul>

                    </div>
                </div>
            </nav>
        </devsite-book-nav>
        <section id="gc-wrapper">
            <main role="main" class="devsite-main-content" has-book-nav has-toc>
                <devsite-toc class="devsite-nav"></devsite-toc>
                <devsite-content>
                    <article class="devsite-article">
                        <article class="devsite-article-inner">
                            <div class="devsite-article-meta">
                                <ul class="devsite-breadcrumb-list">
                                    <li class="devsite-breadcrumb-item">
                                        <a href="/" class="devsite-breadcrumb-link gc-analytics-event"
                                            data-category="Site-Wide Custom Events" data-label="Breadcrumbs"
                                            data-value="1"> Home</a>
                                    </li>
                                    <li class="devsite-breadcrumb-item">
                                        <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true">
                                        </div>
                                        <a href="/products" class="devsite-breadcrumb-link gc-analytics-event"
                                            data-category="Site-Wide Custom Events" data-label="Breadcrumbs"
                                            data-value="2">
                                            Products

                                        </a>
                                    </li>
                                    <li class="devsite-breadcrumb-item">
                                        <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true">
                                        </div>
                                        <a href="/protocol-buffers" class="devsite-breadcrumb-link gc-analytics-event"
                                            data-category="Site-Wide Custom Events" data-label="Breadcrumbs"
                                            data-value="3">
                                            Protocol Buffers

                                        </a>
                                    </li>
                                    <li class="devsite-breadcrumb-item">
                                        <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true">
                                        </div>
                                        <a href="/protocol-buffers/docs/overview"
                                            class="devsite-breadcrumb-link gc-analytics-event"
                                            data-category="Site-Wide Custom Events" data-label="Breadcrumbs"
                                            data-value="4">
                                            Guides

                                        </a>
                                    </li>
                                </ul>
                                <devsite-page-rating position="header" selected-rating="0" hover-rating-star="0">
                                </devsite-page-rating>

                            </div>

                            <h1 class="devsite-page-title">Language Guide</h1>

                            <devsite-toc class="devsite-nav" devsite-toc-embedded>
                            </devsite-toc>
                            <div class="devsite-article-body clearfix">
                                <ul>
                                    <li><a href="#simple">Defining A Message Type</a></li>
                                    <li><a href="#scalar">Scalar Value Types</a></li>
                                </ul>
                                <p>This is a reference guide – for a step by step example that uses many of the features
                                    described in this document, see the <a
                                        href="/protocol-buffers/docs/tutorials">tutorial</a> for your chosen language.
                                </p>

                                <h2 id="simple" data-text="Defining A Message Type" tabindex="0">Defining A Message Type
                                </h2>
                                <p>First let&#39;s look at a very simple example. Let&#39;s say you want to define a
                                    search request message format, where each search request has a query string, the
                                    particular page of results you are interested in, and a number of results per page.
                                    Here&#39;s the <code translate="no" dir="ltr">.proto</code> file you use to define
                                    the message type.</p>

                                <pre class="prettyprint lang-proto" translate="no" dir="ltr">
message SearchRequest {
  required string query = 1;
  optional int32 page_number = 2;
  optional int32 result_per_page = 3;
}</pre>

                                <p>The <code translate="no" dir="ltr">SearchRequest</code> message definition specifies
                                    three fields (name/value pairs), one for each piece of data that you want to include
                                    in this type of message. Each field has a name and a type.</p>

                                <h3 id="specifying_field_types" data-text="Specifying Field Types" tabindex="0">
                                    Specifying Field Types</h3>

                                <p>In the above example, all the fields are <a href="#scalar">scalar types</a>: two
                                    integers (<code translate="no" dir="ltr">page_number</code> and <code translate="no"
                                        dir="ltr">result_per_page</code>) and a string (<code translate="no"
                                        dir="ltr">query</code>). However, you can also specify composite types for your
                                    fields, including <a href="#enum">enumerations</a> and other message types.</p>

                                <h3 id="assigning_field_numbers" data-text="Assigning Field Numbers" tabindex="0">
                                    Assigning Field Numbers</h3>
                                <ul>
                                    <li><code translate="no" dir="ltr">required</code>: a well-formed message must have
                                        exactly one of this field.</li>
                                    <li><code translate="no" dir="ltr">optional</code>: a well-formed message can have
                                        zero or one of this field (but not more than one).</li>
                                    <li><code translate="no" dir="ltr">repeated</code>: this field can be repeated any
                                        number of times (including zero) in a well-formed message. The order of the
                                        repeated values will be preserved.</li>
                                </ul>
                                <pre class="prettyprint lang-proto" translate="no" dir="ltr">
                                    message SearchRequest {
                                      required string query = 1;
                                      optional int32 page_number = 2;
                                      optional int32 result_per_page = 3;
                                    }
                                    
                                    message SearchResponse {
                                     ...
                                    }</pre>
                                <ul>
                                    <li>
                                        <p><code translate="no" dir="ltr">java_package</code> (file option): The package
                                            you want to use for your generated Java classes. If no explicit <code
                                                translate="no" dir="ltr">java_package</code> option is given in the
                                            <code translate="no" dir="ltr">.proto</code> file, then by default the proto
                                            package (specified using the "package" keyword in the <code translate="no"
                                                dir="ltr">.proto</code> file) will be used. However, proto packages
                                            generally do not make good Java packages since proto packages are not
                                            expected to start with reverse domain names. If not generating Java code,
                                            this option has no effect.</p>

                                        <devsite-code dark-code="">
                                            <pre class="lang-proto" translate="no" dir="ltr"
                                                is-upgraded=""><span class="kwd">option</span><span class="pln"> java_package </span><span class="pun">=</span><span class="pln"> </span><span class="str">"com.example.foo"</span><span class="pun">;</span></pre>
                                            <div class="devsite-code-buttons-container"><button type="button"
                                                    class="gc-analytics-event material-icons devsite-icon-code-dark devsite-toggle-dark"
                                                    data-category="Site-Wide Custom Events"
                                                    data-label="Dark Code Toggle" track-type="exampleCode"
                                                    track-name="darkCodeToggle" aria-label="Dark code theme"
                                                    data-title="Dark code theme"></button><button type="button"
                                                    class="gc-analytics-event material-icons devsite-icon-code-light devsite-toggle-light"
                                                    data-category="Site-Wide Custom Events"
                                                    data-label="Light Code Toggle" track-type="exampleCode"
                                                    track-name="lightCodeToggle" aria-label="Light code theme"
                                                    data-title="Light code theme"></button><button type="button"
                                                    class="gc-analytics-event material-icons devsite-icon-copy"
                                                    data-category="Site-Wide Custom Events" data-label="Click To Copy"
                                                    track-type="exampleCode" track-name="clickToCopy"
                                                    aria-label="Copy code sample to clipboard"
                                                    data-title="Copy code sample to clipboard"></button></div>
                                        </devsite-code>
                                    </li>
                                </ul>
                            </div>

                            <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0">
                            </devsite-page-rating>
                        </article>
                    </article>
                    <devsite-content-footer class="nocontent">
                        <p>作者</p>
                        <p>Last updated 2020-06-25.</p>
                    </devsite-content-footer>
                </devsite-content>
            </main>
            <devsite-footer-utility class="devsite-footer">
                <div class="devsite-footer-utility nocontent">
                    <nav class="devsite-footer-utility-links">
                        <ul class="devsite-footer-utility-list">
                            <li class="devsite-footer-utility-item">XX
                            </li>
                            <li class="devsite-footer-utility-item">
                                XX2
                            </li>
                            <li class="devsite-footer-utility-item devsite-footer-utility-button">
                                <span class="devsite-footer-utility-description">version</span>
                            </li>
                        </ul>
                        <devsite-language-selector>
                            <devsite-select class="devsite-language-selector-menu">
                                <select class="devsite-language-selector-select" name="language">
                                    <option value="en" selected="selected">
                                        go
                                    </option>

                                </select>
                            </devsite-select>
                        </devsite-language-selector>
                    </nav>
                </div>
            </devsite-footer-utility>
        </section>
    </section>
    <devsite-sitemask></devsite-sitemask>
    <devsite-snackbar></devsite-snackbar>
    <devsite-tooltip></devsite-tooltip>
    <devsite-heading-link></devsite-heading-link>
    <devsite-analytics>
        <script type="application/json" analytics>
            [{
                "metrics": {
                    "ratings_value": "metric1",
                    "ratings_count": "metric2"
                },
                "dimensions": {
                    "dimension6": "en",
                    "dimension4": "Protocol Buffers",
                    "dimension5": "en",
                    "dimension3": false,
                    "dimension1": "Signed In",
                    "dimension8": null,
                    "dimension11": false
                },
                "gaid": "UA-24532603-1"
            }]
        </script>
        <script type="application/json" gtm>
            {
                "parameters": {
                    "freeTrialEligibleUser": "False",
                    "language": {
                        "machineTranslated": false,
                        "requested": "en",
                        "served": "en"
                    },
                    "projectName": "Protocol Buffers",
                    "scriptsafe": null,
                    "signedIn": "True",
                    "internalUser": "False",
                    "tenant": "developers"
                }
            }
        </script>
    </devsite-analytics>
    <script>
        (function (d, e, v, s, i, t, E) {
            d['GoogleDevelopersObject'] = i;
            t = e.createElement(v);
            t.async = 1;
            t.src = s;
            E = e.getElementsByTagName(v)[0];
            E.parentNode.insertBefore(t, E);
        })(window, document, 'script',
            'https://www.gstatic.com/devrel-devsite/prod/vc0d10ef7c6e8aac6c71e2a2051f66f30f3c99a4b52237746839ce4f1fae2b7b4/js/app_loader.js',
            '[1,"en",null,"/js/devsite_app.js","https://www.gstatic.com/devrel-devsite/prod/vc0d10ef7c6e8aac6c71e2a2051f66f30f3c99a4b52237746839ce4f1fae2b7b4","https://www.gstatic.com/devrel-devsite/prod/vc0d10ef7c6e8aac6c71e2a2051f66f30f3c99a4b52237746839ce4f1fae2b7b4/developers","https://developers-dot-devsite-v2-prod.appspot.com",null,null,["/_pwa/developers/manifest.json","/_static/images/video-placeholder.svg","https://www.gstatic.com/devrel-devsite/prod/vc0d10ef7c6e8aac6c71e2a2051f66f30f3c99a4b52237746839ce4f1fae2b7b4/developers/images/favicon.png","https://fonts.googleapis.com/css?family=Google+Sans:400,500|Roboto:400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons"],1]'
        )
    </script>
</body>

</html>